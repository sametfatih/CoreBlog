@using EntityLayer.Concrete
@model List<Blog>

@{
	ViewData["Title"] = "BlogList";
	ViewData["CurrentPage"] = "BlogList";
	Layout = "~/Views/Shared/UserLayout.cshtml";
}

	<!--/banner-->
	<div class="banner-inner"></div>
	
	<!--//banner-->

	<!--/main-->
	<section class="main-content-w3layouts-agileits">
		<div class="container">
			<h3 class="tittle">Tüm Bloglar</h3>
			<div class="inner-sec">
				<!--left-->
				<div class="left-blog-info-w3layouts-agileits text-left">
					<div class="row">
						@foreach(var blog in Model){
							<div class="col-lg-4 card my-lg-4 my-md-1 my-0">
								<a href="/Blog/BlogDetails/@blog.BlogId" style="display: flex;justify-content: center;">
									<img src="@blog.BlogImagePath" class="card-img-top img-fluid" style="height:190px;width:330px;" alt="">
							</a>
							<div class="card-body">
                                <ul class="blog-icons my-4">
                                    <li>
                                        <a>
                                            <i class="far fa-calendar-alt"></i> @(((DateTime)blog.BlogCreateDate).ToString("MMM dd, yyyy"))
                                        </a>
                                    </li>
                                    @await Component.InvokeAsync("BlogCommentStats", new { id = @blog.BlogId, display=2 })
                                    <li>

                                        <span class="badge" style="border-radius: 0px; background-color: @blog.Category.CategoryColorHex; color:white; font-weight:500; "> @blog.Category.CategoryName</span>
                                    </li>

                                </ul>
								<h5 class="card-title">
										<a href="/Blog/BlogDetails/@blog.BlogId">@blog.BlogTitle</a>
								</h5>
								@if (blog.BlogContentText.Length >= 200)
								{
									<p class="card-text mb-3">@blog.BlogContentText.Substring(0, blog.BlogContentText.Substring(0, 200).LastIndexOf(" "))...</p>								}
								else
								{ 
									<p class="card-text mb-3">@blog.BlogContentText</p>
								}
								<a href="/Blog/BlogDetails/@blog.BlogId" class="btn btn-primary read-m">Devamını Oku</a>
							</div>
						</div>
                    }
						
					</div>
					<nav aria-label="Page navigation example">
							<ul class="pagination justify-content-left mt-4">
								<li class="page-item disabled">
									<a class="page-link" href="#" tabindex="-1">Previous</a>
								</li>
								<li class="page-item">
									<a class="page-link" href="#">1</a>
								</li>
								<li class="page-item">
									<a class="page-link" href="#">2</a>
								</li>
								<li class="page-item">
									<a class="page-link" href="#">3</a>
								</li>
								<li class="page-item">
									<a class="page-link" href="#">Next</a>
								</li>
							</ul>
						</nav>
					<!--//left-->
				</div>
			</div>
		</div>
	</section>
	<!--//main-->

